<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Calculator with Dynamic Entries</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="calculator">
    <h1>Salary Calculator (7th CPC)</h1>

    <!-- Input Section -->
    <div class="input-section">
        <label for="payLevelSelect">Select Pay Level:</label>
        <select id="payLevelSelect">
            <option value="">-- Select Level --</option>
        </select>

        <div id="basicPayContainer" style="margin-top: 10px;">
             <label>Select Basic Pay (Cell):</label>
             <select disabled><option>-- Select Pay Level First --</option></select>
        </div>

        <label for="hraCitySelect">Select HRA City Type:</label>
        <select id="hraCitySelect">
            <option value="None">No HRA</option>
            <option value="X">X City (30%)</option>
            <option value="Y">Y City (20%)</option>
            <option value="Z">Z City (10%)</option>
        </select>

        <label for="taCitySelect">Select TA City Type:</label>
        <select id="taCitySelect">
            <option value="Higher">Higher TPTA Cities</option>
            <option value="Other">Other Places</option>
        </select>

        <label for="daPercentage">Enter Current DA Percentage:</label>
        <input type="number" id="daPercentage" value="55" step="0.5"> %
    </div>

    <!-- Output / Calculation Section -->
    <div class="output-section">
        <h2>Salary Calculation (per month)</h2>

        <div class="info-row"><span>Pay Level:</span> <span id="infoPayLevel">--</span></div>
        <hr>

        <!-- Allowances -->
        <div class="result-row"><span>Basic Pay:</span> <span id="outBasicPay">0</span></div>
        <div class="result-row"><span>DA (Dearness Allowance):</span> <span id="outDA">0</span></div>
        <div class="result-row"><span>HRA (House Rent Allowance):</span> <span id="outHRA">0</span></div>
        <div class="result-row"><span>TA (Travelling Allowance):</span> <span id="outTA">0</span></div>

        <!-- Container for *Finalized* Other Allowances Rows -->
        <div id="otherAllowancesContainer">
            <!-- Finalized allowance rows will be added here -->
        </div>
        <!-- Container for the *Temporary Input* Row for Allowances (Initially Hidden) -->
        <div id="addAllowanceInputArea" class="input-area"></div>
        <!-- Control Row for Allowances -->
        <div class="result-row calculation-control allowance-control">
            <span>Other Allowances Total:</span> <span id="outOtherAllowancesTotal">0</span>
            <button id="addAllowanceBtn" class="add-remove-btn">Add Allowance</button>
        </div>

        <hr>
        <div class="result-row gross"><span>Gross Salary:</span> <span id="outGrossSalary">0</span></div>
        <hr>

        <!-- Deductions -->
        <div class="deductions">
             <h3>Deductions</h3>
             <div class="deduction-option">
                 <input type="checkbox" id="applyNPS" checked>
                 <label for="applyNPS">NPS Contribution (10% of Basic+DA):</label>
                 <span id="outNPS">0</span>
            </div>
             <div class="deduction-option">
                 <input type="checkbox" id="applyCGHS" checked>
                 <label for="applyCGHS">CGHS Contribution (Rate based on Level):</label>
                 <span id="outCGHS">0</span>
            </div>
             <hr style="margin: 5px 0;">

             <!-- Container for *Finalized* Other Deductions Rows -->
            <div id="otherDeductionsContainer">
                <!-- Finalized deduction rows will be added here -->
            </div>
            <!-- Container for the *Temporary Input* Row for Deductions (Initially Hidden) -->
            <div id="addDeductionInputArea" class="input-area"></div>
            <!-- Control Row for Deductions -->
            <div class="result-row calculation-control deduction-control">
                <span>Other Deductions Total:</span> <span id="outOtherDeductionsTotal">0</span>
                <button id="addDeductionBtn" class="add-remove-btn">Add Deduction</button>
            </div>

             <hr style="margin: 5px 0;">
             <div class="result-row total-deductions"><span>Total Deductions:</span> <span id="outTotalDeductions">0</span></div>
        </div>

        <hr>
        <div class="result-row net"><span>Net Salary:</span> <span id="outNetSalary">0</span></div>
        <hr>

    </div>

    <!-- Disclaimer -->
    <div class="disclaimer">
        Disclaimer: Calculator uses selectable inputs. Verify official rules and rates for precise figures. Assumes DA >= 50% for HRA rates (X:30%, Y:20%, Z:10%). For reference only.
    </div>

</div>

<script src="dynamic_script.js"></script>
</body>
</html>